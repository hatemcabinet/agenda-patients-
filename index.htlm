<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Agenda Protegé</title>
<!-- Inclure FullCalendar CSS -->
<link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css' rel='stylesheet' />
<!-- Inclure FullCalendar JS -->
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.js'></script>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  #calendar { max-width: 900px; margin: 40px auto; }
  /* Styles pour login */
  #login { text-align: center; margin-top: 50px; }
  #protected { display: none; }
</style>
</head>
<body>

<h1>Agenda Patient</h1>

<!-- Formulaire de login -->
<div id="login">
  <label>Mot de passe : <input type="password" id="password" /></label>
  <button onclick="verifPassword()">Entrer</button>
</div>

<!-- Zone protégée avec calendrier -->
<div id="protected">
  <button onclick="changeView('dayGridMonth')">Vue Mensuelle</button>
  <button onclick="changeView('timeGridWeek')">Vue Hebdomadaire</button>
  <div id='calendar'></div>
</div>

<script>
  // Mot de passe simple pour la demo
  const monMotDePasse = 'secret123';

  function verifPassword() {
    const inputPwd = document.getElementById('password').value;
    if (inputPwd === monMotDePasse) {
      document.getElementById('login').style.display = 'none';
      document.getElementById('protected').style.display = 'block';
      initialiserCalendar();
    } else {
      alert('Mot de passe incorrect');
    }
  }

  let calendar;

  function initialiserCalendar() {
    // Initialisation du calendrier
    calendar = new FullCalendar.Calendar(document.getElementById('calendar'), {
      initialView: 'dayGridMonth',
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek'
      },
      locale: 'fr',
      events: [
        // Exemple d'événements
        { title: 'RDV Patient 1', start: '2025-10-10T10:00:00' },
        { title: 'RDV Patient 2', start: '2025-10-15T14:00:00' }
      ]
    });
    calendar.render();
  }

  function changeView(viewType) {
    if (calendar) {
      calendar.changeView(viewType);
    }
  }
</script>

</body>
</html>
